
A combiner that calculates energy produced by each panel feed during the daytime, and calculates a resistance value needed to calculate the energy by injecting a known current into each panel feed at nighttime and measuring the resulting voltage across a resistive element in each panel feed. A voltage tap across the protection device in each panel feed allows logic and control circuitry to measure the voltage across each protection device. At nighttime, a known current is injected into each panel feed and the voltage across each protection device is measured. Plugging the current and voltage into Ohm's Law, a resistance of each protection device is calculated, then that resistance value is used during the daytime to calculate energy produced by each string in real time and to monitor each string's performance. When an individual string's performance wanes, an alarm is indicated to help the operator troubleshoot which individual panel(s) within the string is responsible for that string's underperformance.



1. An apparatus assembly for monitoring individual strings of series-connected photovoltaic (PV) panels that collectively form a PV array, comprising:
a combiner box connected to the strings of PV panels, each of the strings being connected to a corresponding panel feed in the combiner box;
a plurality of protection devices each connected to corresponding panel feed;
a current source configured to inject a known current into a first of the panel feeds that receives current from a first of the strings;
logic and control circuitry coupled to the panel feeds and to the current source, the logic and control circuitry being configured to:
measure a voltage across a resistive element in series with the first panel feed,
cause the current source to inject the known current into the resistive element responsive to a measured voltage across the first string not exceeding a predetermined minimum voltage level,
calculate and store a resistance value representing a resistance of the resistive element as a function of the known current and the measured voltage; and

output terminals for connection to a DC-to-AC inverter.



2. The apparatus assembly of claim 1, wherein the logic and control circuitry is housed inside the combiner box and includes a controller configured to calculate a quantity of energy produced by the first string according to a function that includes the stored resistance value and the measured voltage.


3. The apparatus assembly of claim 1, wherein the logic and control circuitry is further configured to monitor the voltage across the resistive element and responsive to the monitored voltage or a quantity calculated using the monitored voltage satisfying an alarm criterion, causing an alarm to be indicated.


4. The apparatus assembly of claim 3, wherein the alarm criterion includes whether the measured voltage or the calculated quantity decreases by more than a predetermined percentage.


5. The apparatus assembly of claim 4, wherein the alarm criterion further includes whether the measured voltage or the calculated quantity decreases by more than the predetermined percentage by more than a predetermined time period.


6. The apparatus assembly of claim 1, wherein the resistive element is a first of the protection devices.


7. The apparatus assembly of claim 1, wherein the resistive element is a blocking diode or a resistor connected in series with the first string.


8. The apparatus assembly of claim 1, wherein the resistive element is a resistor connected in series with a first of the protection devices in the first panel feed.


9. The apparatus assembly of claim 1, wherein the current source is configured to apply the known current into each of the panel feeds, the apparatus further comprising switches controlled by the logic and control circuitry, each of the switches being controlled to cause the known current to be injected into corresponding ones of the panel feeds one at a time.


10. The apparatus assembly of claim 1, wherein the logic and control circuitry includes:
a multiplexer that receives the voltage measured across the resistive element; and
an analog-to-digital converter that converts the voltage to a corresponding digital value representing the voltage.



11. The apparatus of claim 1, wherein the combiner box further includes a video display that displays in real time an amount of energy produced by each of the strings.


12. The apparatus of claim 1, wherein the combiner box further includes an alarm module that indicates which individual one or ones of the strings is underperforming relative to the performance of other ones of the strings.


13. The apparatus of claim 1, wherein the predetermined minimum voltage level is substantially zero volts.


14. The apparatus of claim 1, wherein the predetermined minimum voltage level corresponds to a voltage level when no sunlight is present on the PV array.


15. The apparatus assembly of claim 1, further comprising
a printed circuit board to which the protection devices are secured, each of the protection devices having a first terminal and a second terminal;
a first set of electrical conductors connecting each of the first terminals of each of the protection devices to the printed circuit board and a second set of electrical conductors connecting each of the second terminals of each of the protection devices to the printed circuit board, the first set of electrical conductors being positioned on the circuit board such that electrical conductors carrying current from each of the strings physically mate to the corresponding ones of the first set of electrical conductors; and
a connector on the printed circuit board connected to traces that are electrically coupled to a first of the terminals of each of the protection devices.



16. A method of monitoring individual strings of series-connected photovoltaic (PV) panels, the strings of PV panels forming a PV array, each string connected through a combiner to a downstream output of the array, the method comprising:
measuring, in a combiner box, a voltage across a resistive element in each of a plurality of panel feeds, each of the panel feeds configured to receive current from a corresponding string of series-connected PV panels;
detecting, in a first of the panel feeds, that the measured voltage does not exceed a predetermined minimum voltage level;
responsive to the detecting, injecting a known current into the first panel feed and measuring the voltage across the resistive element of the first panel feed;
responsive to the injecting and measuring, calculating a resistance of the resistive element in the first panel feed, as a function of the known current and the measured voltage, across the resistive element in the first panel feed;
storing the calculated resistance value of the first panel feed;
repeating the measuring, the detecting, the injecting, the calculating, and the storing for each of the remaining ones of the panel feeds; and
determining periodically the energy-producing performance of each string based on the corresponding calculated resistance values.



17. The method of claim 16, further comprising calculating a quantity of energy produced by a first of the strings feeding current to the first panel feed according to a function that includes the stored calculated resistance value and the measured voltage across the resistive element in the first panel feed.


18. The method of claim 16, further comprising calculating a quantity of energy produced by each of the strings according to a function that includes the stored calculated resistance value and the measured voltage across the corresponding resistive element in each of the panel feeds.


19. The method of claim 18, further comprising displaying in real time information indicative of the calculated quantity of energy for each of the strings.


20. The method of claim 16, further comprising:
determining for each of the panel feeds whether the monitored voltage or a quantity calculated as a function of the monitored voltage satisfies an alarm criterion; and
responsive to satisfying the alarm condition, indicating an alarm for at least one of the panel feeds whose monitored voltage or calculated quantity satisfied the alarm criterion.



21. The method of claim 20, wherein the alarm criterion includes whether the voltage or the calculated quantity decreases by more than a predetermined percentage.


22. The method of claim 21, wherein the alarm criterion includes whether the measured voltage or the calculated quantity decreases by more than the predetermined percentage by more than a predetermined period of time.


23. The method of claim 16, further comprising injecting the known quantity of current into each of the other panel feeds simultaneously with the injecting the known quantity of current into the first panel feed or one at a time in series.


24. The method of claim 16, wherein the resistive element is a diode, a resistor, a fuse, or a circuit breaker in series with the panel feed from the corresponding string.


25. The method of claim 16, wherein the predetermined minimum voltage level corresponds to a voltage level when no sunlight is present on the PV array.


26. A method of monitoring individual strings of series-connected photovoltaic (PV) panels, the strings of PV panels forming a PV array, each of the strings being connected through a combiner to a downstream output of the array, the method comprising:
measuring, in a combiner box, a voltage across a resistive element in each of a plurality of panel feeds, each of the panel feeds configured to receive current from a corresponding string of series-connected PV panels;
calculating a current as a function of the measured voltage and a known resistance of the resistive element; and
calculating a quantity of energy produced by each string based on the corresponding measured voltage and the calculated current. 


