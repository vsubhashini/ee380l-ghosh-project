An exemplary method and apparatus for detecting islanding conditions of a distributed grid are disclosed, wherein transfer of power through a power electrical unit is controlled on the basis of a control reference. The apparatus includes a first stage and a second stage performing a respective portion of the method. The first stage injects a reactive component to the control reference, and, for at least one electrical quantity of the grid, determines a change in the quantity induced by the injected component, and determines, on the basis of the change in the electrical quantity, whether to move to the second stage of the method. The second stage, for at least one electrical quantity of the grid, determines a value of the electrical quantity, forms a positive feedback term using at the determined value adding a positive feedback term to the control reference, determines a change in an electrical quantity induced by the feedback term, and determines islanding condition on the basis of the change in the quantity induced by the feedback term.
Claims 1. A method for detecting islanding conditions of a distributed grid, wherein transfer of power through a power electrical unit in the distributed grid is controlled on the basis of a control reference, the method comprising: a first stage and a second stage, wherein the first stage comprises: injecting a reactive component to the control reference; and for at least one electrical quantity of the grid: determining a change in the quantity induced by the injected component, and determining, on the basis of the change in the electrical quantity, whether to move to the second stage of the method, and wherein the second stage comprises, for at least one electrical quantity of the grid: determining a value of the at least one electrical quantity; forming a positive feedback term using the determined value; adding a positive feedback term to the control reference; determining a change in an electrical quantity induced by the feedback term; and determining an islanding condition on the basis of the change in the quantity induced by the feedback term. 2. The method according to claim 1, wherein the transfer of power is controlled on the basis of a current reference. 3. The method according to claim 2, wherein injecting a reactive component to the control reference comprises: injecting a reactive current component to the current reference, wherein the injected reactive current component takes the form of a square wave alternating between an inductive or a capacitive current. 4. The method according to claim 1, wherein the reactive component is a square wave synchronized to zero crossings of a fundamental wave of a voltage of the grid. 5. The method according to claim 1, wherein determining a change in the quantity induced by the injected component in the first stage comprises: determining a change in the rate of change of the distributed grid voltage by the injected component. 6. The method according to claim 1, wherein determining a change in the quantity induced by the injected component in the first stage comprises: determining a change in the rate of change of the distributed grid frequency by the injected component. 7. The method according to claim 5, wherein an estimate of the rate of change of the voltage is calculated by using an adaptive quadrature signal generator, and an estimate of the rate of change of the distributed grid frequency is calculated by using a fundamental frequency estimator. 8. The method according to claim 1, wherein determining whether to move to the second stage of the method comprises: comparing the change induced by the injected component in at least one electrical quantity to a predetermined limit; counting events of the change exceeding the limit; and proceeding to the second stage, if the amount of events exceed another limit within a set time window. 9. The method according to claim 1, wherein the second stage comprises: forming a positive feedback term on the basis of the frequency variation of the distributed grid; and adding the positive feedback term to the active part of the control reference. 10. The method according to claim 1, wherein the second stage comprises: forming a positive feedback term on the basis of the amplitude variation of the distributed grid; and adding the positive feedback term to the reactive part of the control reference. 11. An apparatus for detecting islanding conditions of a distributed grid, wherein transfer of power through a power electrical unit is controlled on the basis of a control reference, the apparatus comprising: a first stage and a second stage, wherein the first stage comprises: means for injecting a reactive component to the control reference; and for at least one electrical quantity of the grid: means for determining a change in the quantity induced by the injected component, means for determining, on the basis of the change in the electrical quantity, whether or not to enable the second stage, and wherein the second stage comprises, for at least one electrical quantity of the grid, means determining a value of the electrical quantity; means for forming a positive feedback term using the determined value; means for adding a positive feedback term to the control reference; means for determining a change in an electrical quantity induced by the feedback term; and means for determining islanding condition on the basis of the change in the quantity induced by the feedback term. 12. A photovoltaic inverter comprising an apparatus according to claim 11. 